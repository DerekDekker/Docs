# 安装
curl -fsSL get.docker.com -o get-docker.sh
sh get-docker.sh


------------------------------------------------

# 版本
docker version

# 运行服务
sudo systemctl start docker

# 创建容器
docker container run nginx
    -d          后台运行
    -p 90:80    端口映射 90代表外网
        -p 容器端口
        -p 主机端口:容器端口
        -p IP:主机端口:容器端口
    -P          随机指定端口
    --name      命名
    -v 本地目录:容器目录    数据卷挂载
        -v 本地目录:容器目录:or    数据卷挂载 并 只读权限 容器内无法修改
        -v 容器目录        匿名挂载
        -v 名称:容器目录    具名挂载
    --net 网络名    加入自定义网络


# 容器列表
docker container ls
    -a    全部容器
    -q    只显示ID

# 启动容器
docker container start 容器ID

# 重启容器
docker container restart 容器ID

# 停止容器
docker container stop 容器ID

# 强制停止容器
docker container kill 容器ID

# 删除容器 ID不需要写全
docker container rm 容器ID

# 后台运行转前台
docker attach 容器ID

# 日志
docker container logs 容器ID
    -f    持续更新

# 交互
docker exec -it 容器ID sh

# 直接运行命令
docker exec -it 容器ID 命令

# 查看容器进程
docker container top 容器ID

# 查看容器信息
docker container inspect 容器ID

# 容器文件拷贝到主机
docker container cp 容器ID:路径/文件 主机路径


---------------------------------镜像
# 镜像列表
docker image ls
    -a    全部镜像
    -q    只显示ID

# 删除镜像 ID不需要写全
docker image rm 镜像ID

# 导出镜像
docker image save 镜像名称:latest -o 保存名称.image

# 导入镜像
docker image load -i 文件

# 构建镜像
docker image build -t 文件 目录

# 容器构建成镜像
docker container commit  容器ID 名称:1.0

# 查看镜像信息
docker image inspect 镜像ID


---------------------------------挂载
# 参看数据卷挂载 匿名 具名
docker volume ls


---------------------------------网络
# 创建网络
docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 名称
    --subnet     子网
    --gateway    网关

# 查看网络
docker network ls

# 查看网络信息
docker network inspect 网络ID

# 容器添加一个网络
docker network connect 网络 容器





